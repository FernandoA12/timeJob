<script>
  const maxSeconds = 40 * 60;

  function makeImage(timer) {
    if(!timer.started) return;

    const minutes = Math.floor(timer.seconds / 60);
    const seconds = timer.seconds % 60;

    const canvas = document.createElement('canvas');
    canvas.width = 16;
    canvas.height = 16;

    const ctx = canvas.getContext('2d');
    ctx.fillStyle = "#8156e6";

    ctx.lineWidth = 1.5;
    ctx.strokeStyle = ctx.fillStyle;
    ctx.beginPath();
    ctx.arc(8, 8, 7, 0, (6.283 * timer.seconds) / timer.endTime,  false);
    ctx.stroke();

    return canvas.toDataURL();
  }

</script>